<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Jul 16, 2012
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cube Project - Cube Project Home Page</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
      <meta name="author" content="Bassem Debbabi" />
    <meta name="Date-Revision-yyyymmdd" content="20120716" />
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../index.html" id="bannerLeft">
                                                                                                <img src="../images/cube.png"  alt="Cube Project"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="projectVersion">Version: 1.2</li>
              
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2012-07-16</li> 
            
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                                    <h3>Project Links</h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="../1.2/getting_started.html" title="Getting started">Getting started</a>
            </li>
                  <li class="none">
                          <a href="../1.2/doc.html" title="Documentation">Documentation</a>
            </li>
                  <li class="none">
                          <a href="../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../license.html" title="License">License</a>
            </li>
          </ul>
                        <h3>Catalog</h3>
                  <ul>
                  <li class="none">
                          <a href="../1.2/managed_elements.html" title="Managed Elements">Managed Elements</a>
            </li>
                  <li class="none">
                          <a href="../1.2/constraints.html" title="Constraints">Constraints</a>
            </li>
                  <li class="none">
                          <a href="../1.2/extensions.html" title="Extensions">Extensions</a>
            </li>
          </ul>
                        <h3>Other Links</h3>
                  <ul>
                  <li class="none">
                          <a href="http://cube.imag.fr/wiki" class="externalLink" title="Wiki">Wiki</a>
            </li>
          </ul>
                      
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <p><a href="./doc.html">Documentation</a> &gt;</p><div class="section"><h2>Cube Agent<a name="Cube_Agent"></a></h2><div class="section"><h3>Internal Architecture<a name="Internal_Architecture"></a></h3><p>One cube agent is composed of the following modules:</p><img src="./images/agent.png" alt="cube agent" /><p>The detail of each module is given below.</p><div class="section"><h4>Runtime Model<a name="Runtime_Model"></a></h4></div><div class="section"><h4>Resolver<a name="Resolver"></a></h4><ul><li>See <a href="./default_resolver.html">Default Resolver</a> Implementation</li></ul></div></div><div class="section"><h3>Agent Config<a name="Agent_Config"></a></h3><div class="source"><pre class="prettyprint">&lt;cube&gt;
  &lt;agent&gt;
    &lt;host value=&quot;localhost&quot;/&gt;
    &lt;port value=&quot;38000&quot;/&gt;
    &lt;archetypeUrl value=&quot;file:demo.arch&quot;/&gt;
    &lt;debug value=&quot;false&quot;/&gt;
    &lt;persist value=&quot;false&quot;/&gt;
    &lt;resolver value=&quot;default-resolver&quot;/&gt;
    &lt;communicator value=&quot;socket-communicator&quot;/&gt;
 
    &lt;extensions&gt;
      &lt;extension id=&quot;fr.liglab.adele.cube.core&quot;&gt;
        &lt;configurations&gt;
          &lt;initializer&gt;
            &lt;set-scope id=&quot;paris&quot; type=&quot;City&quot;/&gt;
            &lt;set-node id=&quot;home1&quot; type=&quot;Gateway&quot;/&gt;
          &lt;/initializer&gt;
        &lt;/configurations&gt;
      &lt;/extension&gt;
      &lt;extension id=&quot;fr.liglab.adele.cube.monitoring&quot;&gt;
 
      &lt;/extension&gt;
    &lt;/extensions&gt;
 
  &lt;/agent&gt;
&lt;/cube&gt;</pre></div></div><div class="section"><h3>Running the Cube Agent<a name="Running_the_Cube_Agent"></a></h3><p>Just put the Cube Agent XML Configuration file (.agent) on the load directory of the Cube Platform distribution.</p><p>You can also create the Cube Agent by code using the API provided within the ICubePlatform Service. In the following example, we use iPOJO to retrieve this service.</p><div class="source"><pre class="prettyprint">@Component
public class MyClass {
 
  @Requires
  private ICubePlatform cubePlatform;
 
  @Validate
  public void start() {
    CubeAgentConfig cac = new CubeAgentConfig(&quot;localhost&quot;, 38000, &quot;file:demo.arch&quot;);
    cubePlatform.createCubeAgent(cac);
  }
 
}</pre></div></div><div class="section"><h3>Internal behavior<a name="Internal_behavior"></a></h3><p>The following steps outline the initial operations done by Cube Agent when created.</p><ol style="list-style-type: decimal"><li>Create RuntimeModel container</li><li>Parse the Agent Config</li><li>Initial configuration (set debug, persistence, resolver, communicator, etc)</li><li>create Extensions (and configure them with the provided configuration on the Agent Config)</li><li>Parse the archetype</li><li>run Extensions</li></ol></div></div>
                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
